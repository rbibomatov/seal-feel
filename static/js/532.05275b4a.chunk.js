"use strict";(self.webpackChunkseal_feel=self.webpackChunkseal_feel||[]).push([[532],{9532:function(e,r,t){t.r(r),t.d(r,{default:function(){return X}});var s=t(1413),o=t(7781),n=t(5927),i=t(8687),a=t(6406),c=t(6871),u=t(2791),l=t(8633),d="ProfileInfo_profileInfo__pIdwp",f="ProfileInfo_profileName__0xrcz",p="ProfileInfo_profileDescription__+VeZ3",h="ProfilePhotoBar_avatarBar__0Qkr-",_="ProfilePhotoBar_profileAvatar__bsWh8",m="ProfilePhotoBar_changeAvatarButton__fNCcw",g=t(7009),v=t(184),x=function(e){return(0,v.jsxs)("div",{className:h,children:[(0,v.jsx)("img",{className:_,src:e.profilePhoto||g,alt:"\u0410\u0432\u0430\u0442\u0430\u0440 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),e.isOnwer&&(0,v.jsx)("div",{children:(0,v.jsx)("input",{className:m,type:"file",onChange:function(r){r.target.files.length&&e.saveUserAvatar(r.target.files[0])}})})]})},j=t(885),P="ProfileStatus_statusBar__Ldszt",U="ProfileStatus_showModeStatusBar__DBIW0",N="ProfileStatus_editModeStatusBar__QwgzV",I=function(e){var r=(0,u.useState)(!1),t=(0,j.Z)(r,2),s=t[0],o=t[1],n=(0,u.useState)(e.status),i=(0,j.Z)(n,2),a=i[0],c=i[1];(0,u.useEffect)((function(){c(e.status)}),[e.status]);var l=(0,v.jsx)("span",{className:e.isOnwer?U:"",onClick:function(){e.isOnwer&&o(!0)},children:a||(e.isOnwer?"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0432\u0430\u0448 \u0441\u0442\u0430\u0442\u0443\u0441...":"")}),d=(0,v.jsx)("input",{className:N,maxLength:"300",autoFocus:!0,onBlur:function(){o(!1),e.updateStatus(a)},onChange:function(e){c(e.currentTarget.value)},value:a});return(0,v.jsx)("div",{className:P,children:s?d:l})},w="DescriptionBlock_descriptionBlock__DOxKo",b="DescriptionBlock_descriptionInfo__XgLrz",k="DescriptionBlock_descriptionName__9qXEh",D="DescriptionBlock_descriptionItem__WZh29",y="DescriptionBlock_descriptionItemHeader__Hb8m8",A=function(e){return(0,v.jsx)("div",{className:w,children:(0,v.jsxs)("div",{className:b,children:[(0,v.jsx)("div",{className:k,children:e.descriptionName}),function(e,r){for(var t=e[0],s=e[1],o=[],n=0,i=(0,v.jsx)("div",{children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442"}),a=0;a<s.length;a++){var c=s[a];c?("boolean"===typeof c&&(c=c?"\u0414\u0430":"\u041d\u0435\u0442"),o.push((0,v.jsxs)("div",{className:D,children:[(0,v.jsx)("span",{className:y,children:t[a]+":"}),r?(0,v.jsx)("a",{href:"https://"+c,target:"_blank",rel:"noopener noreferrer",children:c}):(0,v.jsx)("span",{children:c})]}))):n++}return n===s.length?i:o}(e.descriptionData,e.descriptionRef)]})})},B=function(e){var r=e.profilePage.profile,t=r.contacts,s=[["\u0421\u0442\u0430\u0442\u0443\u0441","\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443","\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0438\u0441\u043a\u043e\u0432\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b"],[r.aboutMe,r.lookingForAJob,r.lookingForAJobDescription]],o=[["Facebook","Website","VK","Twitter","Instagram","Youtube","Github"],[t.facebook,t.website,t.vk,t.twitter,t.instagram,t.youtube,t.github]];return(0,v.jsxs)("div",{className:d,children:[(0,v.jsx)(x,{isOnwer:e.isOnwer,profilePhoto:r.photos.large,saveUserAvatar:e.saveUserAvatar}),(0,v.jsxs)("div",{className:p,children:[(0,v.jsx)("div",{className:f,children:null===r||void 0===r?void 0:r.fullName}),(0,v.jsx)(I,{isOnwer:e.isOnwer,status:e.profilePage.status,updateStatus:e.updateStatus}),(0,v.jsx)(A,{descriptionName:"\u041e\u0431\u043e \u043c\u043d\u0435",descriptionData:s}),(0,v.jsx)(A,{descriptionName:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b",descriptionData:o,descriptionRef:!0})]})]})},S="MyPosts_myPosts__Glpxs",Z="Post_post__HR20V",O="Post_userAvatar__wm7K3",T="Post_postText__PnMPV",L="Post_textAuthor__-dwe5",V="Post_textMessage__kXwzl",C="Post_postTime__GO6PX",F=function(e){return(0,v.jsxs)("div",{className:Z,children:[(0,v.jsx)("img",{className:O,src:e.currentUserPhoto||g,alt:""}),(0,v.jsxs)("div",{className:T,children:[(0,v.jsx)("div",{className:L,children:e.currentUserLogin}),(0,v.jsx)("div",{className:V,children:e.message}),(0,v.jsx)("div",{className:C,children:e.createTime.toTimeString().slice(0,5)})]})]})},M=t(4261),R="AddPostForm_addPostForm__NVk36",z="AddPostForm_postTextArea__-YOhc",q=t(3896),E=function(e){var r=(0,q.cI)(),t=r.register,o=r.handleSubmit,n=r.reset,c=(0,i.I0)();return(0,v.jsxs)("form",{className:R,onSubmit:o((function(r){c((0,a.q2)(r.postText,e.profileId)),n()})),children:[(0,v.jsx)("textarea",(0,s.Z)((0,s.Z)({className:z},t("postText",{required:!0})),{},{placeholder:"\u0420\u0430\u0441\u0441\u043a\u0430\u0436\u0438\u0442\u0435 \u0447\u0442\u043e-\u043d\u0438\u0431\u0443\u0434\u044c \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u043e\u0435!"})),(0,v.jsx)("div",{children:(0,v.jsx)("button",{type:"submit",children:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c"})})]})},W=function(e){var r=e.posts.reduce((function(r,t){return e.profileId===t.profileId&&r.push((0,v.jsx)(F,{message:t.message,createTime:t.createTime,currentUserLogin:e.currentUserLogin,currentUserPhoto:e.currentUserPhoto},(0,M.Z)())),r}),[]);return(0,v.jsxs)("div",{className:S,children:[(0,v.jsx)(E,{addPost:e.addPost,profileId:e.profileId}),r]})},X=(0,o.qC)((0,i.$j)((function(e){return{profilePage:e.profilePage,currentUserId:e.auth.currentUser.id,currentUserLogin:e.auth.currentUser.login,currentUserPhoto:e.auth.currentUser.photo}}),{getUserData:a.is,updateStatus:a.Nf,saveAvatar:a.Mc}),n.Z)((function(e){var r=(0,c.UO)().profileId;return(0,u.useEffect)((function(){e.getUserData(r)}),[r]),!e.profilePage.profileInProgress&&e.profilePage.profile?(0,v.jsxs)("div",{children:[(0,v.jsx)(B,(0,s.Z)((0,s.Z)({},e),{},{isOnwer:e.currentUserId===r})),(0,v.jsx)(W,{posts:e.profilePage.posts,currentUserLogin:e.currentUserLogin,currentUserPhoto:e.currentUserPhoto,profileId:r})]}):(0,v.jsx)(l.Z,{})}))},5927:function(e,r,t){var s=t(1413),o=(t(2791),t(8687)),n=t(6871),i=t(184),a=function(e){return{isAuth:e.auth.isAuth}};r.Z=function(e){return(0,o.$j)(a)((function(r){return r.isAuth?(0,i.jsx)(e,(0,s.Z)({},r)):(0,i.jsx)(n.Fg,{to:"/login"})}))}},4261:function(e,r,t){t.d(r,{Z:function(){return l}});var s,o={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},n=new Uint8Array(16);function i(){if(!s&&!(s="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return s(n)}for(var a=[],c=0;c<256;++c)a.push((c+256).toString(16).slice(1));function u(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(a[e[r+0]]+a[e[r+1]]+a[e[r+2]]+a[e[r+3]]+"-"+a[e[r+4]]+a[e[r+5]]+"-"+a[e[r+6]]+a[e[r+7]]+"-"+a[e[r+8]]+a[e[r+9]]+"-"+a[e[r+10]]+a[e[r+11]]+a[e[r+12]]+a[e[r+13]]+a[e[r+14]]+a[e[r+15]]).toLowerCase()}var l=function(e,r,t){if(o.randomUUID&&!r&&!e)return o.randomUUID();var s=(e=e||{}).random||(e.rng||i)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,r){t=t||0;for(var n=0;n<16;++n)r[t+n]=s[n];return r}return u(s)}}}]);
//# sourceMappingURL=532.05275b4a.chunk.js.map