{"version":3,"file":"static/js/619.06b28c66.chunk.js","mappings":"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","sources":["webpack://seal-feel/./src/components/Content/Users/Users.module.css?df65","webpack://seal-feel/./src/components/Content/Users/User/User.module.css?05de","components/Content/Users/User/User.jsx","components/Content/Users/Users.jsx","hoc/withAuthRedirect.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"pagePanel\":\"Users_pagePanel__OYjSA\",\"page\":\"Users_page__3InJu\",\"currentPage\":\"Users_currentPage__NvK7B\"};","// extracted by mini-css-extract-plugin\nexport default {\"user\":\"User_user__tpBYg\",\"followBar\":\"User_followBar__1tU1j\",\"userAvatar\":\"User_userAvatar__XCK0N\",\"followButton\":\"User_followButton__5XJ4Q\",\"userInfo\":\"User_userInfo__f7SSG\",\"userName\":\"User_userName__a55za\",\"userStatus\":\"User_userStatus__C9eue\"};","import styles from \"./User.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst User = (props) => {\r\n  let followButton = (followed) => {\r\n    let buttonText, onClickButton;\r\n\r\n    if (followed) {\r\n      buttonText = \"Отписаться\";\r\n\r\n      onClickButton = () => {\r\n        props.unfollowUser(props.followingInProgress, props.id);\r\n      };\r\n    } else {\r\n      buttonText = \"Подписаться\";\r\n\r\n      onClickButton = () => {\r\n        props.followUser(props.id);\r\n      };\r\n    }\r\n\r\n    return (\r\n      <button\r\n        className={styles.followButton}\r\n        onClick={onClickButton}\r\n        disabled={props.followingInProgress.includes(props.id)}\r\n      >\r\n        {buttonText}\r\n      </button>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className={styles.user}>\r\n      <div className={styles.followBar}>\r\n        <NavLink to={\"/profile/\" + props.id}>\r\n          <img className={styles.userAvatar} src={props.photo} alt=\"\" />\r\n        </NavLink>\r\n        {followButton(props.followed)}\r\n      </div>\r\n      <div className={styles.userInfo}>\r\n        <div className={styles.userName}>{props.name}</div>\r\n        <div className={styles.userStatus}>{props.status}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","import styles from \"./Users.module.css\";\r\nimport { compose } from \"redux\";\r\nimport withAuthRedirect from \"../../../hoc/withAuthRedirect\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  setPage,\r\n  getUsers,\r\n  followUser,\r\n  unfollowUser,\r\n} from \"../../../redux/users.reducer\";\r\nimport { useEffect } from \"react\";\r\nimport Preloader from \"../../Common/Preloader/Preloader\";\r\nimport defaultAvatar from \"./../../../images/Common/DefaultUserAvatar.png\";\r\nimport User from \"./User/User\";\r\n\r\nconst Users = (props) => {\r\n  const usersPage = props.usersPage;\r\n\r\n  useEffect(() => {\r\n    props.getUsers(usersPage.currentPage, usersPage.pageSize);\r\n  }, []);\r\n\r\n  if (usersPage.usersInProgress) {\r\n    return <Preloader />;\r\n  } else {\r\n    let pages = [];\r\n    let pagesCount = Math.ceil(usersPage.totalUsersCount / usersPage.pageSize);\r\n\r\n    let currentPage = usersPage.currentPage;\r\n    let startPage = currentPage - 4 < 1 ? 1 : currentPage - 4;\r\n    let endPage = currentPage + 4 < pagesCount ? currentPage + 4 : pagesCount;\r\n\r\n    for (let i = startPage; i <= endPage; i++) {\r\n      if (i === startPage && startPage - 1 > 0) {\r\n        pages.push(1, \"«\");\r\n      }\r\n\r\n      pages.push(i);\r\n\r\n      if (i === endPage && endPage + 1 <= pagesCount) {\r\n        pages.push(\"»\", pagesCount);\r\n      }\r\n    }\r\n\r\n    let usersElements = usersPage.users.map((user) => {\r\n      return (\r\n        <User\r\n          id={user.id}\r\n          photo={user.photos.large ? user.photos.large : defaultAvatar}\r\n          name={user.name}\r\n          status={user.status}\r\n          followed={user.followed}\r\n          followUser={props.followUser}\r\n          unfollowUser={props.unfollowUser}\r\n          followingInProgress={usersPage.followingInProgress}\r\n        />\r\n      );\r\n    });\r\n\r\n    let pagesElements = pages.map((page) => {\r\n      return (\r\n        <span\r\n          className={\r\n            styles.page + (currentPage === page ? \" \" + styles.currentPage : \"\")\r\n          }\r\n          onClick={() => {\r\n            let switchedPage = page;\r\n\r\n            if (page === \"«\") {\r\n              switchedPage = currentPage - 5;\r\n            } else if (page === \"»\") {\r\n              switchedPage = currentPage + 5;\r\n            }\r\n\r\n            props.setPage(switchedPage);\r\n            props.getUsers(switchedPage, usersPage.pageSize);\r\n          }}\r\n        >\r\n          {page}\r\n        </span>\r\n      );\r\n    });\r\n\r\n    return (\r\n      <div>\r\n        <div className={styles.pagePanel}>{pagesElements}</div>\r\n        {usersElements}\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    usersPage: state.usersPage,\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    setPage,\r\n    getUsers,\r\n    followUser,\r\n    unfollowUser,\r\n  }),\r\n  withAuthRedirect\r\n)(Users);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Navigate } from \"react-router-dom\";\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    isAuth: state.auth.isAuth,\r\n  };\r\n};\r\n\r\nconst withAuthRedirect = (Component) => {\r\n  const RedirectComponent = (props) => {\r\n    if (!props.isAuth) {\r\n      return <Navigate to=\"/login\" />;\r\n    }\r\n\r\n    return <Component {...props} />;\r\n  };\r\n\r\n  return connect(mapStateToProps)(RedirectComponent);\r\n};\r\n\r\nexport default withAuthRedirect;\r\n"],"names":["props","className","styles","to","id","src","photo","alt","followed","buttonText","onClickButton","unfollowUser","followingInProgress","followUser","onClick","disabled","includes","followButton","name","status","compose","connect","state","usersPage","setPage","getUsers","withAuthRedirect","useEffect","currentPage","pageSize","usersInProgress","Preloader","pages","pagesCount","Math","ceil","totalUsersCount","startPage","endPage","i","push","usersElements","users","map","user","photos","large","defaultAvatar","pagesElements","page","switchedPage","mapStateToProps","isAuth","auth","Component"],"sourceRoot":""}