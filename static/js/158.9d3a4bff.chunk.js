"use strict";(self.webpackChunkseal_feel=self.webpackChunkseal_feel||[]).push([[158],{7158:function(e,s,n){n.r(s),n.d(s,{default:function(){return P}});var t=n(1413),a="Messages_dialogs__n0pJ5",r="Messages_messages__8r9mg",i="Messages_newMessage__iEX3w",o="Messages_noDialogsElement__Hl0w8",c="Messages_noMessagesElement__rINvx",d=n(5927),u=n(8687),l="Dialog_dialog__XYJhc",m="Dialog_activeDialog__dwMbY",g="Dialog_userPhoto__qdtOa",_="Dialog_userName__h-yEF",f=n(3504),h=n(3235),v=n(184),p=function(e){var s=(0,u.I0)(),n=l;return e.activeRecipientId===e.id&&(n+=" "+m),(0,v.jsxs)("div",{className:n,onClick:function(){return s((0,h.He)(e.id))},children:[(0,v.jsx)(f.OL,{to:"/profile/"+e.id,children:(0,v.jsx)("img",{className:g,src:e.photo,alt:"\u0424\u043e\u0442\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"})}),(0,v.jsxs)("span",{className:_,children:[" ",e.name]})]})},x="Message_message__ZFsXl",j="Message_senderPhoto__5btvE",M="Message_infoBar__oZCTu",N="Message_senderName__f5-wS",y="Message_sendTime__yty+l",I="Message_messageText__664Mm",Z=function(e){return(0,v.jsxs)("div",{className:x,children:[(0,v.jsx)(f.OL,{to:"/profile/"+e.senderId,children:(0,v.jsx)("img",{className:j,src:e.senderPhoto,alt:"\u0424\u043e\u0442\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"})}),(0,v.jsxs)("div",{className:M,children:[(0,v.jsxs)("span",{className:N,children:[" ",e.senderName]}),(0,v.jsx)("span",{className:y,children:e.createTime.toTimeString().slice(0,5)}),(0,v.jsx)("div",{className:I,children:e.message})]})]})},D=n(4261),w="AddMessageForm_addMessageArea__381Px",U="AddMessageForm_addMessageButton__MZKtL",b=n(3896),E=n(7504),T=function(e){var s,n=(0,b.cI)(),a=n.register,r=n.formState.errors,i=n.handleSubmit,o=n.reset,c=(0,u.v9)((function(e){return e.auth.currentUser})),d=(0,u.v9)((function(e){return e.messagesPage.activeRecipientId})),l=(0,u.I0)();return(0,v.jsxs)("form",{onSubmit:i((function(e){l((0,h.Hz)(e.messageText,c,d)),o()})),children:[(0,v.jsx)("textarea",(0,t.Z)((0,t.Z)({className:w},a("messageText",{required:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435",maxLength:{value:1e3,message:"\u0414\u043b\u0438\u043d\u0430 \u0442\u0435\u043a\u0441\u0442\u0430 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u0430 \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c 1000 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"}})),{},{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435...",onKeyDown:function(e){"Enter"!==e.key&&"NumpadEnter"!==e.code||e.shiftKey||(e.preventDefault(),document.getElementById("addMessageButton").click())}})),(0,v.jsx)(E.Z,{messageText:null===r||void 0===r||null===(s=r.messageText)||void 0===s?void 0:s.message}),(0,v.jsx)("div",{children:(0,v.jsx)("button",{id:"addMessageButton",className:U,type:"submit",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})})]})},P=(0,d.Z)((function(e){var s=(0,u.v9)((function(e){return e.messagesPage.dialogs})),n=(0,u.v9)((function(e){return e.messagesPage.messages})),d=(0,u.v9)((function(e){return e.messagesPage.activeRecipientId})),l=(0,v.jsx)("div",{className:o,children:"\u0414\u0438\u0430\u043b\u043e\u0433\u0438 \u043d\u0430 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442"}),m=(0,v.jsx)("div",{className:c,children:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u043d\u0430 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442"}),g=s.map((function(e){return(0,v.jsx)(p,(0,t.Z)((0,t.Z)({},e),{},{activeRecipientId:d}),(0,D.Z)())})),_=n.reduce((function(e,s){return d===s.recipientId&&e.push((0,v.jsx)(Z,(0,t.Z)({},s),(0,D.Z)())),e}),[]),f=(0,v.jsxs)("div",{className:a,children:[(0,v.jsx)("div",{children:g}),(0,v.jsx)("div",{className:r,children:_.length?_:m}),(0,v.jsx)("div",{className:i,children:(0,v.jsx)(T,{})})]});return s.length?f:l}))},5927:function(e,s,n){var t=n(1413),a=(n(2791),n(8687)),r=n(6871),i=n(184),o=function(e){return{isAuth:e.auth.isAuth}};s.Z=function(e){return(0,a.$j)(o)((function(s){return s.isAuth?(0,i.jsx)(e,(0,t.Z)({},s)):(0,i.jsx)(r.Fg,{to:"/login"})}))}},4261:function(e,s,n){n.d(s,{Z:function(){return u}});var t,a={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},r=new Uint8Array(16);function i(){if(!t&&!(t="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return t(r)}for(var o=[],c=0;c<256;++c)o.push((c+256).toString(16).slice(1));function d(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(o[e[s+0]]+o[e[s+1]]+o[e[s+2]]+o[e[s+3]]+"-"+o[e[s+4]]+o[e[s+5]]+"-"+o[e[s+6]]+o[e[s+7]]+"-"+o[e[s+8]]+o[e[s+9]]+"-"+o[e[s+10]]+o[e[s+11]]+o[e[s+12]]+o[e[s+13]]+o[e[s+14]]+o[e[s+15]]).toLowerCase()}var u=function(e,s,n){if(a.randomUUID&&!s&&!e)return a.randomUUID();var t=(e=e||{}).random||(e.rng||i)();if(t[6]=15&t[6]|64,t[8]=63&t[8]|128,s){n=n||0;for(var r=0;r<16;++r)s[n+r]=t[r];return s}return d(t)}}}]);
//# sourceMappingURL=158.9d3a4bff.chunk.js.map