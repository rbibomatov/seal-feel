{"version":3,"file":"static/js/790.068a8149.chunk.js","mappings":"gQACA,EAA4B,8BAA5B,EAAiE,yBAAjE,EAAwG,gC,SCwDxG,EAtDmB,SAACA,GAUlB,IATA,IAAMC,EAAYD,EAAMC,UAElBC,EAAQ,GACRC,EAAaC,KAAKC,KAAKJ,EAAUK,gBAAkBL,EAAUM,UAE7DC,EAAcP,EAAUO,YACxBC,EAAYD,EAAc,EAAI,EAAI,EAAIA,EAAc,EACpDE,EAAUF,EAAc,EAAIL,EAAaK,EAAc,EAAIL,EAExDQ,EAAIF,EAAWE,GAAKD,EAASC,IAChCA,IAAMF,GAAaA,EAAY,EAAI,GACrCP,EAAMU,KAAK,EAAG,QAGhBV,EAAMU,KAAKD,GAEPA,IAAMD,GAAWA,EAAU,GAAKP,GAClCD,EAAMU,KAAK,OAAKT,GAIpB,IAAIU,EAAgBX,EAAMY,KAAI,SAACC,GAC7B,OACE,iBAEEC,UACEC,GAAeT,IAAgBO,EAAO,IAAME,EAAqB,IAEnEC,QAAS,WACP,IAAIC,EAAeJ,EAEN,SAATA,EACFI,EAAeX,EAAc,EACX,SAATO,IACTI,EAAeX,EAAc,GAG/BR,EAAMoB,QAAQD,GACdnB,EAAMqB,SAASF,EAAclB,EAAUM,SACxC,EAhBH,SAkBGQ,IAjBIO,EAAAA,EAAAA,KAoBV,IAED,OACE,+BACE,gBAAKN,UAAWC,EAAhB,SAAmCJ,KAGxC,ECtDD,EAAuB,mBAAvB,EAAsD,wBAAtD,EAA0F,wBAA1F,EAA+H,yBAA/H,EAAuK,2BAAvK,EAAmN,6BAAnN,EAAuQ,mCAAvQ,EAA0T,4BAA1T,EAAiW,uBAAjW,EAAmY,uBAAnY,EAAua,yB,UCoEva,EAlEa,SAACb,GACZ,IAAMC,EAAYD,EAAMC,UAElBsB,GACJ,SAAC,KAAD,CAASP,UAAWC,EAA6BO,GAAI,aAArD,UACE,mBACER,UAAWC,EAAoB,IAAMA,EACrCC,QAAS,WACP,IAAMO,EAAO,CAAEC,GAAI1B,EAAM0B,GAAIC,KAAM3B,EAAM2B,KAAMC,MAAO5B,EAAM4B,OAC5D5B,EAAM6B,UAAUJ,EACjB,EALH,gEA4CJ,OACE,iBAAKT,UAAWC,EAAhB,WACE,iBAAKD,UAAWC,EAAhB,WACE,SAAC,KAAD,CAASO,GAAI,YAAcxB,EAAM0B,GAAjC,UACE,gBAAKV,UAAWC,EAAkBa,IAAK9B,EAAM4B,MAAOG,IAAI,OAEzDR,EAtCkB,SAACS,GACxB,IAAIC,EACFC,EACAC,EAAclB,EAkBhB,OAhBIe,GACFC,EAAa,+DACbE,GAAe,IAAMlB,EAErBiB,EAAgB,WACdlC,EAAMoC,aAAanC,EAAUoC,oBAAqBrC,EAAM0B,GACzD,IAEDO,EAAa,qEACbE,GAAe,IAAMlB,EAErBiB,EAAgB,WACdlC,EAAMsC,WAAWtC,EAAM0B,GACxB,IAID,mBACEV,UAAWmB,EACXjB,QAASgB,EACTK,SAAUtC,EAAUoC,oBAAoBG,SAASxC,EAAM0B,IAHzD,SAKGO,GAGN,CASMQ,CAAiBzC,EAAMgC,cAE1B,iBAAKhB,UAAWC,EAAhB,WACE,gBAAKD,UAAWC,EAAhB,SAAkCjB,EAAM2B,QACxC,gBAAKX,UAAWC,EAAhB,SAAoCjB,EAAM0C,cAIjD,ECXD,GAAeC,EAAAA,EAAAA,KACbC,EAAAA,EAAAA,KAPoB,SAACC,GACrB,MAAO,CACL5C,UAAW4C,EAAM5C,UAEpB,GAG0B,CACvBmB,QAAAA,EAAAA,GACAC,SAAAA,EAAAA,GACAiB,WAAAA,EAAAA,GACAF,aAAAA,EAAAA,GACAP,UAAAA,EAAAA,KAEFiB,EAAAA,EARF,EAvCc,SAAC9C,GACb,IAAMC,EAAYD,EAAMC,UAMxB,IAJA8C,EAAAA,EAAAA,YAAU,WACR/C,EAAMqB,SAASpB,EAAUO,YAAaP,EAAUM,SACjD,GAAE,IAEEN,EAAU+C,gBAsBb,OAAO,SAACC,EAAA,EAAD,IArBP,IAAMC,EAAgBjD,EAAUkD,MAAMrC,KAAI,SAACW,GACzC,OACE,SAAC,GAAD,QAEEC,GAAID,EAAKC,GACTE,MAAOH,EAAK2B,OAAOC,MAAQ5B,EAAK2B,OAAOC,MAAQC,EAC/C3B,KAAMF,EAAKE,KACXe,OAAQjB,EAAKiB,OACbV,SAAUP,EAAKO,UACXhC,IANCsB,EAAAA,EAAAA,KASV,IAED,OACE,iCACE,SAAC,GAAD,UAAgBtB,IACfkD,IAMR,G,4EC5CGK,EAAkB,SAACV,GACrB,MAAO,CACLW,OAAQX,EAAMY,KAAKD,OAEtB,EAcD,IAZyB,SAACE,GASxB,OAAOd,EAAAA,EAAAA,IAAQW,EAARX,EARmB,SAAC5C,GACzB,OAAKA,EAAMwD,QAIJ,SAACE,GAAD,UAAe1D,KAHb,SAAC,KAAD,CAAUwB,GAAG,UAIvB,GAGF,C,uDCpBD,ICGImC,EDFJ,GACEC,WAFmC,qBAAXC,QAA0BA,OAAOD,YAAcC,OAAOD,WAAWE,KAAKD,SCI1FE,EAAQ,IAAIC,WAAW,IACd,SAASC,IAEtB,IAAKN,KAEHA,EAAoC,qBAAXE,QAA0BA,OAAOF,iBAAmBE,OAAOF,gBAAgBG,KAAKD,SAGvG,MAAM,IAAIK,MAAM,4GAIpB,OAAOP,EAAgBI,EACxB,CCTD,IAFA,IAAMI,EAAY,GAETxD,EAAI,EAAGA,EAAI,MAAOA,EACzBwD,EAAUvD,MAAMD,EAAI,KAAOyD,SAAS,IAAIC,MAAM,IAGzC,SAASC,EAAgBC,GAAiB,IAAZC,EAAY,uDAAH,EAG5C,OAAQL,EAAUI,EAAIC,EAAS,IAAML,EAAUI,EAAIC,EAAS,IAAML,EAAUI,EAAIC,EAAS,IAAML,EAAUI,EAAIC,EAAS,IAAM,IAAML,EAAUI,EAAIC,EAAS,IAAML,EAAUI,EAAIC,EAAS,IAAM,IAAML,EAAUI,EAAIC,EAAS,IAAML,EAAUI,EAAIC,EAAS,IAAM,IAAML,EAAUI,EAAIC,EAAS,IAAML,EAAUI,EAAIC,EAAS,IAAM,IAAML,EAAUI,EAAIC,EAAS,KAAOL,EAAUI,EAAIC,EAAS,KAAOL,EAAUI,EAAIC,EAAS,KAAOL,EAAUI,EAAIC,EAAS,KAAOL,EAAUI,EAAIC,EAAS,KAAOL,EAAUI,EAAIC,EAAS,MAAMC,aACtf,CCYD,MAxBA,SAAYC,EAASC,EAAKH,GACxB,GAAII,EAAAA,aAAsBD,IAAQD,EAChC,OAAOE,EAAAA,aAIT,IAAMC,GADNH,EAAUA,GAAW,CAAC,GACDI,SAAWJ,EAAQT,KAAOA,KAK/C,GAHAY,EAAK,GAAe,GAAVA,EAAK,GAAY,GAC3BA,EAAK,GAAe,GAAVA,EAAK,GAAY,IAEvBF,EAAK,CACPH,EAASA,GAAU,EAEnB,IAAK,IAAI7D,EAAI,EAAGA,EAAI,KAAMA,EACxBgE,EAAIH,EAAS7D,GAAKkE,EAAKlE,GAGzB,OAAOgE,CACR,CAED,OAAOL,EAAgBO,EACxB,C","sources":["webpack://seal-feel/./src/components/Content/Users/PagesPanel/PagesPanel.module.css?a0bf","components/Content/Users/PagesPanel/PagesPanel.jsx","webpack://seal-feel/./src/components/Content/Users/User/User.module.css?05de","components/Content/Users/User/User.jsx","components/Content/Users/Users.jsx","hoc/withAuthRedirect.jsx","../node_modules/uuid/dist/esm-browser/native.js","../node_modules/uuid/dist/esm-browser/rng.js","../node_modules/uuid/dist/esm-browser/stringify.js","../node_modules/uuid/dist/esm-browser/v4.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"pagePanel\":\"PagesPanel_pagePanel__X3lcL\",\"page\":\"PagesPanel_page__4aIdn\",\"currentPage\":\"PagesPanel_currentPage__k6AHj\"};","import styles from \"./PagesPanel.module.css\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nconst PagesPanel = (props) => {\r\n  const usersPage = props.usersPage;\r\n\r\n  const pages = [];\r\n  const pagesCount = Math.ceil(usersPage.totalUsersCount / usersPage.pageSize);\r\n\r\n  const currentPage = usersPage.currentPage;\r\n  const startPage = currentPage - 3 < 1 ? 1 : currentPage - 3;\r\n  const endPage = currentPage + 3 < pagesCount ? currentPage + 3 : pagesCount;\r\n\r\n  for (let i = startPage; i <= endPage; i++) {\r\n    if (i === startPage && startPage - 1 > 0) {\r\n      pages.push(1, \"«\");\r\n    }\r\n\r\n    pages.push(i);\r\n\r\n    if (i === endPage && endPage + 1 <= pagesCount) {\r\n      pages.push(\"»\", pagesCount);\r\n    }\r\n  }\r\n\r\n  let pagesElements = pages.map((page) => {\r\n    return (\r\n      <span\r\n        key={uuidv4()}\r\n        className={\r\n          styles.page + (currentPage === page ? \" \" + styles.currentPage : \"\")\r\n        }\r\n        onClick={() => {\r\n          let switchedPage = page;\r\n\r\n          if (page === \"«\") {\r\n            switchedPage = currentPage - 3;\r\n          } else if (page === \"»\") {\r\n            switchedPage = currentPage + 3;\r\n          }\r\n\r\n          props.setPage(switchedPage);\r\n          props.getUsers(switchedPage, usersPage.pageSize);\r\n        }}\r\n      >\r\n        {page}\r\n      </span>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <div className={styles.pagePanel}>{pagesElements}</div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PagesPanel;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"user\":\"User_user__tpBYg\",\"followBar\":\"User_followBar__1tU1j\",\"userPhoto\":\"User_userPhoto__KS9Bm\",\"userButton\":\"User_userButton__LB8GE\",\"followButton\":\"User_followButton__5XJ4Q\",\"unfollowButton\":\"User_unfollowButton__Txyb+\",\"messageButtonWrapper\":\"User_messageButtonWrapper__fnNPl\",\"messageButton\":\"User_messageButton__wGMRz\",\"userInfo\":\"User_userInfo__f7SSG\",\"userName\":\"User_userName__a55za\",\"userStatus\":\"User_userStatus__C9eue\"};","import styles from \"./User.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst User = (props) => {\r\n  const usersPage = props.usersPage;\r\n\r\n  const messageButton = (\r\n    <NavLink className={styles.messageButtonWrapper} to={\"/messages/\"}>\r\n      <button\r\n        className={styles.userButton + \" \" + styles.messageButton}\r\n        onClick={() => {\r\n          const user = { id: props.id, name: props.name, photo: props.photo };\r\n          props.addDialog(user);\r\n        }}\r\n      >\r\n        Написать\r\n      </button>\r\n    </NavLink>\r\n  );\r\n\r\n  const showFollowButton = (followed) => {\r\n    let buttonText,\r\n      onClickButton,\r\n      buttonClass = styles.userButton;\r\n\r\n    if (followed) {\r\n      buttonText = \"Отписаться\";\r\n      buttonClass += \" \" + styles.unfollowButton;\r\n\r\n      onClickButton = () => {\r\n        props.unfollowUser(usersPage.followingInProgress, props.id);\r\n      };\r\n    } else {\r\n      buttonText = \"Подписаться\";\r\n      buttonClass += \" \" + styles.followButton;\r\n\r\n      onClickButton = () => {\r\n        props.followUser(props.id);\r\n      };\r\n    }\r\n\r\n    return (\r\n      <button\r\n        className={buttonClass}\r\n        onClick={onClickButton}\r\n        disabled={usersPage.followingInProgress.includes(props.id)}\r\n      >\r\n        {buttonText}\r\n      </button>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className={styles.user}>\r\n      <div className={styles.followBar}>\r\n        <NavLink to={\"/profile/\" + props.id}>\r\n          <img className={styles.userPhoto} src={props.photo} alt=\"\" />\r\n        </NavLink>\r\n        {messageButton}\r\n        {showFollowButton(props.followed)}\r\n      </div>\r\n      <div className={styles.userInfo}>\r\n        <div className={styles.userName}>{props.name}</div>\r\n        <div className={styles.userStatus}>{props.status}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","import { compose } from \"redux\";\r\nimport withAuthRedirect from \"../../../hoc/withAuthRedirect\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  setPage,\r\n  getUsers,\r\n  followUser,\r\n  unfollowUser,\r\n} from \"../../../redux/users.reducer\";\r\nimport { addDialog } from \"../../../redux/messages.reducer\";\r\nimport { useEffect } from \"react\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport Preloader from \"../../Common/Preloader/Preloader\";\r\nimport defaultPhoto from \"./../../../images/Common/DefaultUserPhoto.png\";\r\nimport PagesPanel from \"./PagesPanel/PagesPanel\";\r\nimport User from \"./User/User\";\r\n\r\nconst Users = (props) => {\r\n  const usersPage = props.usersPage;\r\n\r\n  useEffect(() => {\r\n    props.getUsers(usersPage.currentPage, usersPage.pageSize);\r\n  }, []);\r\n\r\n  if (!usersPage.usersInProgress) {\r\n    const usersElements = usersPage.users.map((user) => {\r\n      return (\r\n        <User\r\n          key={uuidv4()}\r\n          id={user.id}\r\n          photo={user.photos.large ? user.photos.large : defaultPhoto}\r\n          name={user.name}\r\n          status={user.status}\r\n          followed={user.followed}\r\n          {...props}\r\n        />\r\n      );\r\n    });\r\n\r\n    return (\r\n      <>\r\n        <PagesPanel {...props} />\r\n        {usersElements}\r\n      </>\r\n    );\r\n  } else {\r\n    return <Preloader />;\r\n  }\r\n};\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    usersPage: state.usersPage,\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    setPage,\r\n    getUsers,\r\n    followUser,\r\n    unfollowUser,\r\n    addDialog,\r\n  }),\r\n  withAuthRedirect\r\n)(Users);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Navigate } from \"react-router-dom\";\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    isAuth: state.auth.isAuth,\r\n  };\r\n};\r\n\r\nconst withAuthRedirect = (Component) => {\r\n  const RedirectComponent = (props) => {\r\n    if (!props.isAuth) {\r\n      return <Navigate to=\"/login\" />;\r\n    }\r\n\r\n    return <Component {...props} />;\r\n  };\r\n\r\n  return connect(mapStateToProps)(RedirectComponent);\r\n};\r\n\r\nexport default withAuthRedirect;\r\n","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;"],"names":["props","usersPage","pages","pagesCount","Math","ceil","totalUsersCount","pageSize","currentPage","startPage","endPage","i","push","pagesElements","map","page","className","styles","onClick","switchedPage","setPage","getUsers","uuidv4","messageButton","to","user","id","name","photo","addDialog","src","alt","followed","buttonText","onClickButton","buttonClass","unfollowUser","followingInProgress","followUser","disabled","includes","showFollowButton","status","compose","connect","state","withAuthRedirect","useEffect","usersInProgress","Preloader","usersElements","users","photos","large","defaultPhoto","mapStateToProps","isAuth","auth","Component","getRandomValues","randomUUID","crypto","bind","rnds8","Uint8Array","rng","Error","byteToHex","toString","slice","unsafeStringify","arr","offset","toLowerCase","options","buf","native","rnds","random"],"sourceRoot":""}